<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>OS | Lengband Blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="即刻记录精彩">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.a2da8f38.js" as="script"><link rel="preload" href="/assets/js/2.d9c77588.js" as="script"><link rel="preload" href="/assets/js/9.c26675c1.js" as="script"><link rel="prefetch" href="/assets/js/10.7bb7c324.js"><link rel="prefetch" href="/assets/js/11.48aafdf6.js"><link rel="prefetch" href="/assets/js/12.fe4beccc.js"><link rel="prefetch" href="/assets/js/13.a9830dd2.js"><link rel="prefetch" href="/assets/js/14.cc471259.js"><link rel="prefetch" href="/assets/js/15.80a888f9.js"><link rel="prefetch" href="/assets/js/16.9ef8bd1d.js"><link rel="prefetch" href="/assets/js/17.96a14a35.js"><link rel="prefetch" href="/assets/js/18.5b895c69.js"><link rel="prefetch" href="/assets/js/19.8a9d930e.js"><link rel="prefetch" href="/assets/js/20.06738571.js"><link rel="prefetch" href="/assets/js/21.cbdb3403.js"><link rel="prefetch" href="/assets/js/22.c694d42d.js"><link rel="prefetch" href="/assets/js/23.dc693082.js"><link rel="prefetch" href="/assets/js/24.0ccf1229.js"><link rel="prefetch" href="/assets/js/25.1a2e3e5b.js"><link rel="prefetch" href="/assets/js/26.2bef024a.js"><link rel="prefetch" href="/assets/js/27.9ed68f2a.js"><link rel="prefetch" href="/assets/js/28.7d6e7e23.js"><link rel="prefetch" href="/assets/js/29.7bd115e9.js"><link rel="prefetch" href="/assets/js/3.dba46206.js"><link rel="prefetch" href="/assets/js/4.56bd36f2.js"><link rel="prefetch" href="/assets/js/5.0e979832.js"><link rel="prefetch" href="/assets/js/6.fb87b94e.js"><link rel="prefetch" href="/assets/js/7.73f2f48f.js"><link rel="prefetch" href="/assets/js/8.45fbd5fb.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/hero.jpeg" alt="Lengband Blog" class="logo"> <span class="site-name can-hide">Lengband Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Fe/" class="nav-link">
  Web
</a></div><div class="nav-item"><a href="/Ops/" class="nav-link">
  Ops
</a></div><div class="nav-item"><a href="/Network/" class="nav-link">
  Network
</a></div><div class="nav-item"><a href="/Thought/" class="nav-link router-link-active">
  随笔
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Contact" class="dropdown-title"><span class="title">Contact</span> <span class="arrow down"></span></button> <button type="button" aria-label="Contact" class="mobile-dropdown-title"><span class="title">Contact</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/lengband" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Fe/" class="nav-link">
  Web
</a></div><div class="nav-item"><a href="/Ops/" class="nav-link">
  Ops
</a></div><div class="nav-item"><a href="/Network/" class="nav-link">
  Network
</a></div><div class="nav-item"><a href="/Thought/" class="nav-link router-link-active">
  随笔
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Contact" class="dropdown-title"><span class="title">Contact</span> <span class="arrow down"></span></button> <button type="button" aria-label="Contact" class="mobile-dropdown-title"><span class="title">Contact</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/lengband" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/Thought/Go/" class="sidebar-link">Golang</a></li><li><a href="/Thought/mysql/" class="sidebar-link">Mysql</a></li><li><a href="/Thought/os/" aria-current="page" class="active sidebar-link">OS</a><ul class="sidebar-sub-headers"></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="冯诺依曼模型"><a href="#冯诺依曼模型" class="header-anchor">#</a> 冯诺依曼模型</h3> <ul><li>输入设备</li> <li>输出设备</li> <li>存储器</li> <li>运算器</li> <li>控制器</li></ul> <p><img src="/assets/img/fengnuoyiman.8b5b6ff1.jpg" alt=""></p> <h4 id="cpu"><a href="#cpu" class="header-anchor">#</a> CPU</h4> <p>冯诺依曼模型中运算器和控制器主要是 CPU 负责。为了方便计算较大的数值，CPU 每次可以计算多个字节的数据。</p> <ul><li>如果 CPU 每次可以计算 4 个 byte，那么我们称作 32 位 CPU（1byte=8bit(位)，4*8=32位）</li> <li>如果 CPU 每次可以计算 8 个 byte，那么我们称作 64 位 CPU（8*8=64位）
这里的 32 和 64，称作 <strong>CPU 的位宽</strong>。
CPU中包括运算单元，控制单元和寄存器。
寄存器又分为1)通用寄存器，用于用户编程使用。2) 特殊寄存器，用于存储下一个要执行的指令的内存地址 3) 读取到的指令会放到指令寄存器。
CPU从寄存器的读取速度远远高于从内存读取</li></ul> <h5 id="_64位和32位的计算-cpu的位宽会对计算造成什么影响-要用32位宽的-cpu-加和两个64位的数字可以运算吗"><a href="#_64位和32位的计算-cpu的位宽会对计算造成什么影响-要用32位宽的-cpu-加和两个64位的数字可以运算吗" class="header-anchor">#</a> 64位和32位的计算，CPU的位宽会对计算造成什么影响，要用32位宽的 CPU，加和两个64位的数字可以运算吗？</h5> <p>因为 32 位宽的 CPU 中没有 64 位的寄存器，所以就算地址总线、数据总线都超过 32 位，读入的数据也只能是 32 位。
因此必须把两个 64 位数字拆成 4 个 32 位数字来计算，这样就需要一个算法，比如用像小时候做加法竖式一样，先加和两个低位的 32 位数字，算出进位，然后加和两个高位的 32 位数字，最后再加上进位。
而 64 位的 CPU 就可以一次读入 64 位的数字，同时 64 位的 CPU 内部的逻辑计算单元，也支持 64 位的数字进行计算。但是你千万不要仅仅因为位宽的区别，就认为 64 位 CPU 性能比 32 位高很多。
要知道大部分应用不需要计算超过 32 位的数字，比如你做一个电商网站，用户的金额通常是 10 万以下的，而 32 位有符号整数，最大可以到 20 亿。所以这样的计算在 32 位还是 64 位中没有什么区别。</p> <h4 id="存储器"><a href="#存储器" class="header-anchor">#</a> 存储器</h4> <ul><li>内部存储器（内存）</li> <li>外部存储器（磁盘、光盘、U盘、硬盘等）</li></ul> <h5 id="为什么-2-32-4g内存"><a href="#为什么-2-32-4g内存" class="header-anchor">#</a> 为什么 2^32=4G内存</h5> <p>2的32次方：2 代表二进制，因为计算机中电容表示数据 只能表示有 1 ，0  两种情况, 就像磁极只能分南北.电极只能分正负一样.一个电容代表两种情况.N个电容就能代表2^N中情况.但是如果单单使用1个电容来代表一个我们学术上使用的数字,不利于管理.所以一般使用8个电容，也就是8bits来代表一个学术上的数字. 8bits = 1 bytes 咱们通常所说的<code>1GB</code>是<code>1G</code>的<code>byte</code>
1MB = 1024 KB = 1024 * 1024 B
1GB = 1024 MB = 1024 * 1024 KB = 1024 * 1024 * 1024 B= 2^10 * 2^10 * 2^10 B = 2^30 B
4GB = 2^32B
32位系统是说总线有32根子线组成, 一根子线指向一个电容矩阵(可以将一个矩阵认为 1Byte ).一个电容矩阵中可以容纳8个电容,也就是 8bits所以32位的系统<code>2^32</code>是<code>4G Bytes</code>   &lt;=&gt;   4G bytes   &lt;=&gt;  4G * 8 bits.理论上64位系统最大虚拟内存空间可以达到 2^64 GB (但是实际上并没有这么大)</p> <h4 id="总线"><a href="#总线" class="header-anchor">#</a> 总线</h4> <blockquote><p>CPU 和内存以及其他设备之间，也需要通信，因此我们用一种特殊的设备进行控制，就是总线。总线分成 3 种：</p></blockquote> <ul><li>一种是地址总线，专门用来指定 CPU 将要操作的内存地址。</li> <li>还有一种是数据总线，用来读写内存中的数据。</li></ul> <blockquote><p>当 CPU 需要读写内存的时候，先要通过地址总线来指定内存地址，再通过数据总线来传输数据。</p></blockquote> <ul><li>最后一种总线叫作控制总线，用来发送和接收关键信号，比如后面我们会学到的中断信号，还有设备复位、就绪等信号，都是通过控制总线传输。同样的，CPU 需要对这些信号进行响应，这也需要控制总线。</li></ul> <h5 id="你可能会好奇数据如何通过线路传递"><a href="#你可能会好奇数据如何通过线路传递" class="header-anchor">#</a> 你可能会好奇数据如何通过线路传递</h5> <p>如果只有一条线路，每次只能传递 1 个信号，因为你必须在 0,1 中选一个。比如你构造高高低低这样的信号，其实就是 1100，相当于你传了一个数字 10 过去。大家注意，这种传递是相当慢的，因为你需要传递 4 次。
这种一个一个信号发送的方式，我们叫作串行。如果希望每次多传一些数据，就需要增加线路，也就是需要并行。
如果只有 1 条地址总线，那每次只能表示 0-1 两种情况，所以只能操作 2 个内存地址；如果有 10 条地址总线，一次就可以表示 210 种情况，也就是可以操作 1024 个内存地址；如果你希望操作 4G 的内存，那么就需要 32 条线，因为 2^32 是 4G。
数据是通过高低电压传输(高1,低0)，并行传递信号可提升传输效率。线路位宽限制了每次并行传输的最大信号量。如果是32位地址总线则可以操作2^32位内存(4G)9. 32位宽CPU操作64位数据时，需要分为两次32位操作。32位操作系统无法控制高于32位的总线。64位相对于32位的优势：因为一次性并行传输的信号量以及CPU的处理能力从2^32 变成了 2^64，因此可以操作的数据量和内存地址范围都变成了32位的2次幂</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">8/31/2021, 11:59:19 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Thought/mysql/" class="prev">
        Mysql
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a2da8f38.js" defer></script><script src="/assets/js/2.d9c77588.js" defer></script><script src="/assets/js/9.c26675c1.js" defer></script>
  </body>
</html>
